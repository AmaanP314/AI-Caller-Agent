; ============================================================================
; MEDICARE AI AGENT - AUDIOSOCKET EXTENSION
; ============================================================================

[default]
exten => 8500,1,NoOp(Medicare AI Agent - AudioSocket)
exten => 8500,n,Answer()
exten => 8500,n,Set(SESSION_UUID=${SHELL(uuidgen | tr -d '\n')})
; --- FIX: Use simple host:port syntax from docs ---
exten => 8500,n,AudioSocket(${SESSION_UUID},127.0.0.1:9092)
exten => 8500,n,Hangup()

exten => 8501,1,Answer()
exten => 8501,n,Playback(hello-world)
exten => 8501,n,Hangup()

[vicidial-auto]
exten => 8500,1,NoOp(Medicare AI Agent - AudioSocket)
exten => 8500,n,Answer()
exten => 8500,n,Set(SESSION_UUID=${SHELL(uuidgen | tr -d '\n')})
; --- FIX: Use simple host:port syntax from docs ---
exten => 8500,n,AudioSocket(${SESSION_UUID},127.0.0.1:9092)
exten => 8500,n,Hangup()

root@vmi2854942:/etc/asterisk# cat extensions_custom.conf
; ============================================================================
; MEDICARE AI AGENT - AUDIOSOCKET EXTENSION
; ============================================================================

[default]
exten => 8500,1,NoOp(Medicare AI Agent - AudioSocket)
exten => 8500,n,Answer()
exten => 8500,n,Set(SESSION_UUID=${SHELL(uuidgen | tr -d '\n')})
; --- FIX: Use simple host:port syntax from docs ---
exten => 8500,n,AudioSocket(${SESSION_UUID},127.0.0.1:9092)
exten => 8500,n,Hangup()

exten => 8501,1,Answer()
exten => 8501,n,Playback(hello-world)
exten => 8501,n,Hangup()

[vicidial-auto]
exten => 8500,1,NoOp(Medicare AI Agent - AudioSocket)
exten => 8500,n,Answer()
exten => 8500,n,Set(SESSION_UUID=${SHELL(uuidgen | tr -d '\n')})
; --- FIX: Use simple host:port syntax from docs ---
exten => 8500,n,AudioSocket(${SESSION_UUID},127.0.0.1:9092)
exten => 8500,n,Hangup()